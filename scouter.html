<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TFT Set 16 Scouter</title>
    <style>
        :root {
            --bg-primary: #0a0a12;
            --bg-secondary: #151525;
            --bg-tertiary: #1a1a2a;
            --accent-primary: #00ccff;
            --accent-secondary: #00cc99;
            --accent-warning: #ff5555;
            --text-primary: #ffffff;
            --text-secondary: #e0e0ff;
            --text-muted: #999999;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Verdana', sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        html, body {
            height: 100%;
            overflow: hidden;
            position: fixed;
            width: 100%;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            padding: 15px;
            touch-action: manipulation;
        }

        .container {
            height: 100%;
            display: flex;
            flex-direction: column;
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 15px;
            padding: 12px;
            background-color: var(--bg-secondary);
            border-radius: 10px;
            flex-shrink: 0;
        }

        h1 {
            color: var(--accent-primary);
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .content {
            display: flex;
            flex: 1;
            gap: 20px;
            overflow: hidden;
            flex-direction: column;
        }

        @media (min-width: 768px) {
            .content {
                flex-direction: row;
            }
        }

        .compositions-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .category-header {
            background-color: var(--bg-secondary);
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            color: var(--accent-primary);
            font-weight: bold;
            font-size: 1.1rem;
            text-transform: uppercase;
        }

        .compositions-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            overflow-y: auto;
            padding: 5px;
            flex: 1;
        }

        .compositions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 12px;
        }

        .composition-btn {
            background-color: #2a2a4a;
            color: var(--accent-primary);
            border: 2px solid #3a3a6a;
            border-radius: 8px;
            padding: 12px;
            font-size: 14px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            text-align: left;
            min-height: 70px;
            touch-action: manipulation;
            cursor: pointer; /* Added cursor pointer for desktop */
            transition: background-color 0.1s;
        }

        .composition-btn:active, .composition-btn.active {
            background-color: #3a3a6a;
            transform: scale(0.98);
        }

        .comp-icon {
            width: 40px;
            height: 40px;
            margin-right: 10px;
            background: rgba(0,0,0,0.2); 
            border-radius: 5px;
            object-fit: contain;
            flex-shrink: 0;
        }

        .leaderboard {
            width: 100%;
            background-color: var(--bg-secondary);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        @media (min-width: 768px) {
            .leaderboard {
                width: 350px;
                flex-shrink: 0;
            }
        }

        .leaderboard-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-primary);
        }

        .leaderboard-header h2 {
            color: var(--accent-primary);
            font-size: 1.5rem;
        }

        .leaderboard-sections {
            display: flex;
            flex-direction: column;
            gap: 15px;
            flex: 1;
            overflow: hidden;
        }

        .leaderboard-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .section-header {
            background-color: var(--bg-tertiary);
            padding: 8px 12px;
            border-radius: 6px;
            margin-bottom: 8px;
            color: var(--accent-primary);
            font-weight: bold;
            font-size: 1rem;
        }

        .leaderboard-list {
            overflow-y: auto;
            flex: 1;
            padding-right: 5px;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background-color: var(--bg-tertiary);
            border-radius: 5px;
        }

        .leaderboard-item-content {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .leaderboard-icon {
            width: 30px;
            height: 30px;
            margin-right: 10px;
            border-radius: 5px;
            object-fit: contain;
            flex-shrink: 0;
        }

        .comp-name {
            color: var(--text-secondary);
            font-weight: bold;
            font-size: 14px;
        }

        .comp-count {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-weight: bold;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .count-low {
            background-color: var(--bg-tertiary);
            color: var(--text-muted);
        }

        .count-medium {
            background-color: #153a3a;
            color: var(--accent-secondary);
        }

        .count-high {
            background-color: #3a153a;
            color: #ff55ff;
        }

        .reset-btn {
            background-color: #8a1538;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            touch-action: manipulation;
        }

        .reset-btn:active {
            background-color: #aa1548;
            transform: scale(0.98);
        }

        .status-bar {
            background-color: var(--bg-secondary);
            padding: 10px;
            border-radius: 10px;
            margin-top: 15px;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        /* Custom scrollbar for webkit browsers */
        .compositions-container::-webkit-scrollbar,
        .leaderboard-list::-webkit-scrollbar {
            width: 8px;
        }

        .compositions-container::-webkit-scrollbar-track,
        .leaderboard-list::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 4px;
        }

        .compositions-container::-webkit-scrollbar-thumb,
        .leaderboard-list::-webkit-scrollbar-thumb {
            background: var(--accent-primary);
            border-radius: 4px;
        }

        /* Responsive adjustments for mobile */
        @media (max-width: 480px) {
            .compositions-grid {
                grid-template-columns: 1fr;
            }
            
            .composition-btn {
                min-height: 60px;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        
        <div class="content">
            <div class="compositions-panel">
                
                <div class="compositions-container">
                    <div>
                        <div class="category-header">ORIGINS</div>
                        <div class="compositions-grid" id="origins-grid"></div>
                    </div>
                    
                    <div>
                        <div class="category-header">CLASSES</div>
                        <div class="compositions-grid" id="classes-grid"></div>
                    </div>
                </div>
            </div>
            
            <div class="leaderboard">
                <div class="leaderboard-header">
                    <h2>LIVE TRACKER</h2>
                </div>
                
                <div class="leaderboard-sections">
                    <div class="leaderboard-section">
                        <div class="section-header">ORIGINS</div>
                        <div class="leaderboard-list" id="origins-list"></div>
                    </div>
                    
                    <div class="leaderboard-section">
                        <div class="section-header">CLASSES</div>
                        <div class="leaderboard-list" id="classes-list"></div>
                    </div>
                </div>
                
                <button class="reset-btn" id="reset-btn">RESET ALL COUNTS</button>
            </div>
        </div>
        
        <div class="status-bar" id="status-bar">
            Ready | Click/Tap to add, Long press to remove
        </div>
    </div>

    <script>
        // --- NEW DATA SET 16 ---

        const origins = [
            "Zaun", "Yordle", "Void", "Targon", "Shurima", "Shadow-Isles", 
            "Piltover", "Noxus", "Ixtal", "Ionia", "Freljord", "Demacia", "Bilgewater"
        ];

        const classes = [
            "Arcanist", "Bruiser", "Defender", "Disruptor", "Gunslinger", "Invoker", 
            "Juggernaut", "Longshot", "Quickstriker", "Slayer", "Vanquisher", "Warden"
        ];

        // Combine all comps for counting
        const allComps = [...origins, ...classes];

        // Initialize counts
        let counts = {};
        allComps.forEach(comp => {
            counts[comp] = 0;
        });

        // DOM elements
        const originsGrid = document.getElementById('origins-grid');
        const classesGrid = document.getElementById('classes-grid');
        const originsList = document.getElementById('origins-list');
        const classesList = document.getElementById('classes-list');
        const resetBtn = document.getElementById('reset-btn');
        const statusBar = document.getElementById('status-bar');

        // Function to get icon path
        function getIconPath(comp) {
            const formattedName = comp.toLowerCase().replace(/\s+/g, '-');
            return `icons/24-${formattedName}.svg`;
        }

        // Logic variables
        let pressTimer;
        let pressStartTime;
        let activeElement = null;
        let isTouchInteraction = false;

        // Generate composition buttons for a specific category
        function generateCompositionButtons(comps, gridElement) {
            gridElement.innerHTML = '';
            
            comps.forEach(comp => {
                const btn = document.createElement('button');
                btn.className = 'composition-btn';
                
                const iconPath = getIconPath(comp);
                
                btn.innerHTML = `
                    <img src="${iconPath}" alt="${comp} icon" class="comp-icon" onerror="this.style.display='none';">
                    <span>${comp}</span>
                `;
                
                // --- TOUCH EVENTS (Mobile) ---
                btn.addEventListener('touchstart', (e) => {
                    e.preventDefault(); // Prevents double firing with mouse events
                    isTouchInteraction = true;
                    handleInputStart(comp, btn);
                });

                btn.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    handleInputEnd(comp, btn);
                });

                // Cancel touch if finger slides off
                btn.addEventListener('touchmove', (e) => {
                    // Simple check if movement is significant, or just cancel timer
                    if (pressTimer) clearTimeout(pressTimer);
                });

                // --- MOUSE EVENTS (Desktop) ---
                btn.addEventListener('mousedown', (e) => {
                    if (e.button !== 0) return; // Only left click
                    if (isTouchInteraction) {
                        isTouchInteraction = false;
                        return; 
                    }
                    handleInputStart(comp, btn);
                });

                btn.addEventListener('mouseup', (e) => {
                    if (e.button !== 0) return;
                    handleInputEnd(comp, btn);
                });

                btn.addEventListener('mouseleave', () => {
                    if (pressTimer) clearTimeout(pressTimer);
                    activeElement = null;
                    btn.classList.remove('active');
                });
                
                gridElement.appendChild(btn);
            });
        }

        // Unified Input Handlers
        function handleInputStart(comp, btn) {
            pressStartTime = Date.now();
            activeElement = comp;
            btn.classList.add('active'); // Visual feedback
            
            // Set timer for long press (Decrease)
            pressTimer = setTimeout(() => {
                decreaseCount(comp);
                activeElement = null; // Mark as handled
                // Don't remove active class yet so user knows they are holding
                // We'll remove it in End
                navigator.vibrate?.(50); // Small haptic feedback if supported
            }, 500);
        }

        function handleInputEnd(comp, btn) {
            btn.classList.remove('active');
            
            // Clear the long press timer
            if (pressTimer) {
                clearTimeout(pressTimer);
            }
            
            // If it was the same element and wasn't processed as long press yet
            if (activeElement === comp) {
                const duration = Date.now() - pressStartTime;
                if (duration < 500) {
                    increaseCount(comp);
                }
            }
            
            activeElement = null;
        }

        // Update leaderboard for a specific category
        function updateLeaderboard(comps, listElement) {
            listElement.innerHTML = '';
            const sortedComps = [...comps].sort((a, b) => counts[a] - counts[b]);
            
            sortedComps.forEach(comp => {
                const count = counts[comp];
                const iconPath = getIconPath(comp);
                
                const item = document.createElement('div');
                item.className = 'leaderboard-item';
                
                let countClass = 'count-low';
                if (count > 0 && count < 3) countClass = 'count-medium';
                else if (count >= 3) countClass = 'count-high';
                
                item.innerHTML = `
                    <div class="leaderboard-item-content">
                        <img src="${iconPath}" alt="${comp} icon" class="leaderboard-icon" onerror="this.style.display='none'">
                        <div class="comp-name">${comp}</div>
                    </div>
                    <div class="comp-count ${countClass}">${count}</div>
                `;
                
                listElement.appendChild(item);
            });
        }

        // Update all leaderboards
        function updateAllLeaderboards() {
            updateLeaderboard(origins, originsList);
            updateLeaderboard(classes, classesList);
        }

        // Increase count
        function increaseCount(comp) {
            counts[comp]++;
            updateAllLeaderboards();
            updateStatus(`Increased ${comp} to ${counts[comp]}`);
            localStorage.setItem('tftCounts_set16', JSON.stringify(counts));
        }

        // Decrease count
        function decreaseCount(comp) {
            if (counts[comp] > 0) {
                counts[comp]--;
                updateAllLeaderboards();
                updateStatus(`Decreased ${comp} to ${counts[comp]}`);
                localStorage.setItem('tftCounts_set16', JSON.stringify(counts));
            } else {
                updateStatus(`${comp} is already at 0`);
            }
        }

        // Reset all counts
        function resetAll() {
            if (confirm('Are you sure you want to reset all counts to zero?')) {
                allComps.forEach(comp => {
                    counts[comp] = 0;
                });
                updateAllLeaderboards();
                updateStatus('All counts reset to zero');
                localStorage.setItem('tftCounts_set16', JSON.stringify(counts));
            }
        }

        // Update status message
        function updateStatus(message) {
            statusBar.textContent = message;
            setTimeout(() => {
                statusBar.textContent = 'Ready | Click/Tap to add, Long press to remove';
            }, 3000);
        }

        // Load saved counts from localStorage
        function loadSavedCounts() {
            const savedCounts = localStorage.getItem('tftCounts_set16');
            if (savedCounts) {
                const parsed = JSON.parse(savedCounts);
                allComps.forEach(comp => {
                    if (parsed[comp] !== undefined) {
                        counts[comp] = parsed[comp];
                    }
                });
            }
        }

        // Initialize the app
        function initApp() {
            loadSavedCounts();
            generateCompositionButtons(origins, originsGrid);
            generateCompositionButtons(classes, classesGrid);
            updateAllLeaderboards();
            
            // Reset Button Events
            resetBtn.addEventListener('click', resetAll);
            
            // Prevent context menu
            document.addEventListener('contextmenu', (e) => {
                e.preventDefault();
            });
        }

        // Start the app
        initApp();
    </script>
</body>
</html>